<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Générateur de JSON-LD - Brand</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container my-5">
        <h1 class="text-center">Générateur de JSON-LD pour une marque</h1>
        <form id="brandForm" class="my-4">
            <div class="mb-3">
                <label for="name" class="form-label">Nom de la marque</label>
                <input type="text" class="form-control" id="name" placeholder="Nom de la marque" required>
            </div>
            <div class="mb-3">
                <label for="url" class="form-label">URL</label>
                <input type="url" class="form-control" id="url" placeholder="https://www.exemple.com" required>
            </div>
            <div class="mb-3">
                <label for="description" class="form-label">Description</label>
                <textarea class="form-control" id="description" rows="3" placeholder="Description de la marque"></textarea>
            </div>
            <div class="mb-3">
                <label for="logo" class="form-label">URL du logo</label>
                <input type="url" class="form-control" id="logo" placeholder="https://www.exemple.com/logo.png">
            </div>
            <div class="mb-3">
                <label for="socialProfiles" class="form-label">Profils sociaux (séparés par des virgules)</label>
                <input type="text" class="form-control" id="socialProfiles" placeholder="https://facebook.com/marque, https://twitter.com/marque">
            </div>
            <div class="mb-3">
                <label for="rating" class="form-label">Note moyenne</label>
                <input type="number" class="form-control" id="rating" placeholder="Exemple : 4.5" min="0" max="5" step="0.1">
            </div>
            <div class="mb-3">
                <label for="reviews" class="form-label">Avis (séparés par des points-virgules)</label>
                <textarea class="form-control" id="reviews" rows="3" placeholder="Avis 1; Avis 2; Avis 3"></textarea>
            </div>
            <button type="button" class="btn btn-primary w-100" onclick="generateJSONLD()">Générer le script</button>
        </form>

        <h2 class="text-center mt-5">Script JSON-LD généré</h2>
        <div class="mb-3">
            <textarea class="form-control" id="jsonldOutput" rows="10" readonly></textarea>
        </div>
    </div>

    <script>
        function generateJSONLD() {
            const name = document.getElementById('name').value;
            const url = document.getElementById('url').value;
            const description = document.getElementById('description').value;
            const logo = document.getElementById('logo').value;
            const socialProfiles = document.getElementById('socialProfiles').value.split(',').map(s => s.trim()).filter(s => s);
            const rating = parseFloat(document.getElementById('rating').value);
            const reviews = document.getElementById('reviews').value.split(';').map(r => r.trim()).filter(r => r);

            const jsonld = {
                "@context": "https://schema.org",
                "@type": "Brand",
                name: name,
                url: url,
                description: description || undefined,
                logo: logo || undefined,
                sameAs: socialProfiles.length ? socialProfiles : undefined,
                aggregateRating: rating ? {
                    "@type": "AggregateRating",
                    ratingValue: rating
                } : undefined,
                review: reviews.length ? reviews.map(r => ({
                    "@type": "Review",
                    reviewBody: r
                })) : undefined
            };

            // Remove undefined fields
            const cleanedJsonld = JSON.stringify(jsonld, (key, value) => (value === undefined ? undefined : value), 2);

            // Display the JSON-LD
            document.getElementById('jsonldOutput').value = cleanedJsonld;
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>